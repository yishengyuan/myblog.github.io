![[Pasted image 20251119123503.png]]

有没有合法的签名 是不是double spending
手续费是否符合要求 
发布的区块是否符合要求
检查block header 难度阈值是不是
最先监听到的分叉 

## 全节点和轻节点职责
轻节点和全节点 
轻节点差了1000倍 
发布的区块是否符合难度

最长合法链 
挖出一个区块的工作量很大的  所以不会冒险

比特币中大部分是轻节点
如果只是转账。运行轻节点就可以了  
挖矿需要全节点

如果监听到别人的合法的区块 重新组装区块进行挖矿

memoryless 
progress free

## 怎么保证安全性？ 
密码学   别人没有私钥 无法转走你的金额
共识机制     
## 挖矿设备
第一代 cpu
第二代：gpu设备 并行计算
第三代：ASIC  application specific Intergrated 芯片除了挖矿沙啥用都没有 矿机
一个芯片需要一年的时间 看来很贵
有点像是军备竞赛 算力在不断增加 需要的成本越来越多
有可能厂商挖矿以后才能给你用，但是算力已经不够了。
赚钱的可能是厂商最赚 
提前预定才可以 但是BTC价格是有波动的
mining puzzle 
merge mining
ASIC resistance 让通用计算也可以挖矿


挖到了就是赚了 挖不到就是耗费的电力全浪费了 成本很高
找到一个nonce 
almost valid block 
每个矿工尝试的nonce数越多 提交share数作为工作量的衡量

## 如果一个矿工 拿到了自己不share呢？ 自己去发布了？ 
里面的收款地址是矿主的 即使提交了也不取出来钱

merkle root hash tree是对不上的？ 

## 如果矿工挖到了就是想捣乱。
对矿工来说是什么都得不到  
比如进入对方打击竞争对手呢？ 

![[Pasted image 20251119130650.png]]

	![[Pasted image 20251119130703.png]]

![[Pasted image 20251119130742.png]]
攻击者如果有51%的攻击力是很大的 就可以发动分叉攻击
![[Pasted image 20251119131347.png]]

Boycott 
![[Pasted image 20251119132451.png]]

23个交易确认


![[Pasted image 20251119132525.png]]



size：大小
locktime：生效时间
vin： 输入
vout：输出
blockhash所在区块的hash值
confirmations：有多少个确认数
time：过了多少秒

![[Pasted image 20251119132742.png]]
transaction：之前的一个交易的hash值
vout：这个交易的第几个输出
scriptsig：输入脚本。证明你有能力花钱

![[Pasted image 20251119132936.png]]
n：序号 第几个输出 
asm：输出脚本内容
reqSigs：1 需要多少签名
type：输出类型
addresses：输出地址
![[Pasted image 20251119133053.png]]

![[Pasted image 20251119135516.png]]

![[Pasted image 20251119141830.png]]
![[Pasted image 20251119141839.png]]

![[Pasted image 20251119143126.png]]

![[Pasted image 20251119144459.png]]


![[Pasted image 20251119154310.png]]

![[Pasted image 20251119171110.png]]

检查公共key 三个key 
签名
销毁BTC来获得一些小币 coin 

![[Pasted image 20251119171614.png]]


