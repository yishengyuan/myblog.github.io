	# ⭐ 一句话结论

**Seata 本质是 “强一致性分布式事务 + 中心化协调器”。**  
在高并发场景、跨语言、多团队、多微服务复杂体系中，**引入成本高、稳定性风险大、运维麻烦**，所以很多公司不推荐。

---

# 📌 一、为什么很多公司不推荐 Seata？

下面是最主要的 8 条原因（面试能直接背）：

---

## ① **Seata 是中心化 TC，成为潜在单点瓶颈**

- TC（Transaction Coordinator）负责协调所有分布式事务。
    
- 所有事务都需要依赖它 → **压力集中、可用性风险高**。
    
- TC 挂了或者延迟高 → 全局事务卡死。
    

> 在高并发场景中，TC 的吞吐会直接限制你的系统。

---

## ② **强一致性事务天生阻塞性能**

Seata 默认走 **2PC 或 3PC** 模式，特点：

- 需要锁住资源直到事务提交或回滚
    
- 跨服务网络 RPC 往返次数高
    
- 高并发情况下延迟明显上升
    

如果你有：

- 高频交易
    
- 高频订单写入
    
- 高 QPS 库操作
    

使用 Seata 直接 **把吞吐拉低几十倍** 是常见问题。

---

## ③ 业务侵入性强，改造成本大

Seata 的 AT 模式需要：

- 每个库建 undo_log 表
    
- SQL 必须是标准语法，否则不能自动回滚
    
- 必须支持本地事务
    
- 对框架耦合强（Spring Cloud、Dubbo）
    

很多公司微服务拆分比较乱，引入 Seata 就会遇到：

- 跨语言？没法用
    
- 跨数据库？难
    
- SQL 太复杂？不支持
    
- 老服务不想改？跑不起来
    

**改造成本极高。**

---

## ④ Undo Log 风险（占空间 + 可能失败）

Seata 的 AT 模式是靠 **快照 + 补偿日志（undo_log）** 做回滚。  
问题：

- SQL 大、数据多时 undo log 会非常大
    
- 大表回滚成本巨大
    
- SQL 无法正确解析时可能 roll back 失败
    

甚至出现过：

- undo_log 膨胀
    
- 历史日志清理不掉
    
- 表锁时间变长
    

大公司不愿冒此风险。

---

## ⑤ 分布式锁导致扩展能力下降

Seata 本质依赖“全局锁”，是在数据库维度加逻辑锁。

高并发下：

- 全局行锁竞争非常激烈
    
- 多个服务之间会互相阻塞
    
- 直接影响吞吐（类似大事务）
    

等于把分布式变成了“**大家排队写库**”，完全不适合大型公司。

---

## ⑥ 与微服务架构理念不完全兼容

微服务核心原则：

- 解耦
    
- 独立性
    
- 异步化
    
- 可靠事件最终一致性
    

Seata 则：

- 服务之间依赖强一致性
    
- 需要依赖协调器
    
- 强依赖网络状态
    

本质上和“微服务去中心化”理念相反。

---

## ⑦ 运维复杂性高

生产环境引入 Seata 的典型困难：

- TC 单独部署、集群 HA、心跳、存储要配置
    
- 每个微服务都要接入 RM、TM
    
- SQL 解析偶尔炸了需要排查日志
    
- 升级版本容易引入兼容问题
    

相比之下：

- RocketMQ 事务消息
    
- Outbox pattern
    
- TCC 手写补偿
    

**维护成本更低。**

---

## ⑧ 开源社区活跃度降低 + 企业版收费

Seata 的商业版由蚂蚁金服维护，开源版升级速度慢，贡献度降低。  
不少公司担心引入后未来升级、迁移困难。

---

# 📌 二、那 Seata 完全不能用吗？

不是。

## ✔ Seata 适用场景（安全使用条件）：

- 中小公司
    
- 微服务数量少（<10）
    
- 数据库使用 MySQL
    
- SQL 简单（单表增删改）
    
- 并发不高
    
- 业务必须强一致性（金融、积分、库存）
    

这种场景 Seata 的 AT 非常香，用得好非常省事。
# ❌ 不适用场景（大部分公司都是这里）：

- 高并发订单系统
    
- 电商库存扣减
    
- 营销扣券
    
- 用户资产系统
    
- 接口调用链很长
    
- 多语言架构
    
- 多数据库 MySQL + PG + Mongo
    
- 微服务数量多（>20）
    

这些场景都应该用：

- **最终一致性**（Outbox + CDC）
    
- **消息事务**（RocketMQ/Kafka）
    
- **TCC 手写补偿**
    
- **Saga 模式**
    
- **幂等 + 可重试 + 本地事务**
    

---

# 📌 三、面试怎么回答最加分？

> **Seata 最大的问题是成本与收益不成正比。在高并发、复杂微服务环境中，它的中心化协调器、全局锁和 undo log 都会带来性能与稳定性问题，因此大部分中大型公司更倾向于最终一致性方案（Outbox、事务消息、TCC）。但对于中小项目或并发较低场景，Seata 仍然非常好用。**