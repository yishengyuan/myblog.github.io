# 部署智能合约

## 创建部署脚本

---
创建scripts文件夹   注意部署脚本和测试脚本在不同文件夹
```bash
import "@nomicfoundation/hardhat-ethers";
import { ethers } from "hardhat";

async function deploy() {
    const HelloWorld = await ethers.getContractFactory("HelloWorld");
    const hello = await HelloWorld.deploy();
    await hello.deployed();

    return hello;
}

// @ts-ignore
async function sayHello(hello) {
    console.log("Say Hello:", await hello.hello());
}

deploy().then(sayHello);
```

## Deploy

---

```bash
npx hardhat run scripts/deploy-hello.ts --network localhost
```

## Error

---

```
(node:394882) UnhandledPromiseRejectionWarning: HardhatError: HH108: Cannot connect to the network localhost.
Please make sure your node is running, and check your internet connection and networks config
    at HttpProvider._fetchJsonRpcResponse (/home/mpaulson/personal/yayayaya/node_modules/hardhat/src/internal/core/providers/http.ts:176:15)
    at processTicksAndRejections (internal/process/task_queues.js:94:5)
(node:394882) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:394882) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code
```

## Cloud

---

其它计算机、sepolia、rinkby

## Local

---

```bash
npx hardhat node
```

## 看看我们的local network

---

-eth_accounts
hardhat_metadata (20)                                                                                                     
eth_blockNumber
eth_getBlockByNumber
eth_feeHistory
eth_maxPriorityFeePerGas
eth_sendTransaction
  Contract deployment: HelloWorld
  Contract address:    0x5fbdb2315678afecb367f032d93f642f64180aa3
  Transaction:         0xe69076ae90cc7033209d7bbff1b0816ff42a2633106a2947a7bf8021654b6eb7
  From:                0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266  # 第一个账号 
  Value:               0 ETH
  Gas used:            133161 of 30000000
  Block #1:            0x42116824111178d32e8122c6efaad49937159de164faae29741a7026224f4a90