![[Pasted image 20251112085716.png]]

![[Pasted image 20251112090422.png]]


## swap费用

![[Pasted image 20251112091421.png]]


dx是算出来的 ？

## uniswap swap合约调用

![[Pasted image 20251112091522.png]]

![[Pasted image 20251112091840.png]]

## Uniswap V2 协议的分层设计

## swapexactTokensForTokens

![[Pasted image 20251117161025.png]]

份额增长比例 = 总价值的增长比例 

![[Pasted image 20251117161228.png]]


![[Pasted image 20251117161503.png]]


燃烧burn份额能获得多少？
![[Pasted image 20251117164919.png]]


![[Pasted image 20251117165052.png]]


需要增加红框内的 才能保证p不变  p = y/x

![[Pasted image 20251117165704.png]]


![[Pasted image 20251117165927.png]]


![[Pasted image 20251117165944.png]]


![[Pasted image 20251117170142.png]]

添加流动性

![[Pasted image 20251117170626.png]]

![[Pasted image 20251117171031.png]]

![[Pasted image 20251117171234.png]]


![[Pasted image 20251117171636.png]]


![[Pasted image 20251117184719.png]]


![[Pasted image 20251120100120.png]]


移除流动性
![[Pasted image 20251120110207.png]]
## 闪电贷款

![[Pasted image 20251121160322.png]]