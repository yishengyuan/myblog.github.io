### 计算减少流动性时移除的 Token 数量

1. **池值公式**
   - 池的值可以表示为 `sqrt(x * y)`，其中 X 和 Y 分别是该 AMM 中的两种代币数量。
2. **流动性减少的计算**
   - 流动性从 l0 减少到 L1 时，公式 `l0 - L1 / l0` 计算了流动性的减少。
   - l0 是移除流动性前池的值，L1 是移除流动性后的池值。
   - 对应的公式为：`F(x0, y0)` 表示移除流动性前的池值，`F(x0 - DX, y0 - DY)` 表示移除流动性后的池值，其中 DX 和 DY 分别是移除的 token X 和 token Y 的数量。
3. **计算 DY 和 DX**
   - 根据池值公式，我们可以得到 `DY = y0 / x0 * DX`，然后将其代入之前的方程。
   - 接下来我们通过代数运算简化方程，首先对方程进行平方根处理，消除复杂项，最后得到 `DX / X0 = DY / Y0`，即移除的 token X 和 token Y 之间的比例是相同的。
4. **最终结果**
   - 由以上推导可得，流动性减少时移除的 token 数量计算公式为：`DX / X0 = DY / Y0`。